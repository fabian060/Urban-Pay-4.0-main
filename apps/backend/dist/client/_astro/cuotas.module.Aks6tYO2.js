import{c as a}from"./notificiation.C3UD7vwj.js";import{k as c,B as n}from"./endpoints.JZqDPgRs.js";import{a as l}from"./index.CViUNx8d.js";const i=`${n}/api/cuotas`;let u=[];const s=l(u),p=async()=>{try{const t=await c.get(`${n}/api/cuotas`,{credentials:"include"}).json();s.set(t)}catch(t){(t.response.status===401||t.response.status===403)&&location.replace("/login"),console.log(t)}},d=async t=>{try{const e=await c.post(i,{json:t,credentials:"include"}).json();s.set(s.get().concat(e)),a({title:"Cuota creada!",type:"success"})}catch(e){console.log(e);const o=await e.response.json();a({title:"Ups! Hubo un error",description:o.error,type:"error"})}},y=async t=>{const e=`${i}/${t}`;try{const o=await c.delete(e,{credentials:"include"}).json();s.set(s.get().filter(r=>r.id!==o.id)),a({title:"Cuota eliminada",description:`${o.name}`,type:"success"})}catch(o){console.log(o);const r=await o.response.json();a({title:"Ups! Hubo un error",description:r.error,type:"error"})}},f={addCuota:d,removeCuota:y,getCuotas:p};export{f as C,s as c};
